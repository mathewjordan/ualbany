{"version":3,"sources":["webpack:///./src/Modules/ACF/assets/scripts/index.js","webpack:///./src/Modules/ACF/assets/scripts/components/SubmenuBlock.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["add_new_block","$parent","length","window","submenuBlocks","filtered","filter","submenuBlock","$submenuBlock","jQuery","data","selectors","$submenuBlocks","join","each","closest","is","push","parent","acf","add_action","$el","SubmenuBlock","options","events","on","menu_id","ev","currentTarget","val","get_item_list","then","json","JSON","parse","success","build_list_options","result","console","error","menu_items","$menu_item_select","find","remove","end","append","forEach","key","get","ajaxurl","action"],"mappings":"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","file":"src/Modules/ACF/dist/module-build-submenu-blocks.js","sourcesContent":["/*global jQuery*/\n/*global acf*/\nimport SubmenuBlocks from './components/SubmenuBlock'\n\nconst add_new_block = function($parent)\n{\n    let length = window.submenuBlocks.length;\n\n    let filtered = window.submenuBlocks.filter(function(submenuBlock) {\n\n        let $submenuBlock = jQuery( submenuBlock );\n\n        return $submenuBlock.data('id') !== $parent.data('id')\n    }).length;\n\n    return ! length || length === filtered;\n}\n\njQuery(function(){\n\n    window.submenuBlocks = [];\n\n    let selectors = [\n        '.acf-field-column-one-keysubmenu-menu',\n        '.acf-field-column-two-keysubmenu-menu',\n        '.acf-field-column-three-keysubmenu-menu',\n        '.acf-field-column-four-keysubmenu-menu',\n    ];\n\n    let $submenuBlocks = jQuery( selectors.join(', ') );\n\n    if( $submenuBlocks.length ) {\n\n        $submenuBlocks.each(function() {\n\n            let $parent = jQuery( this ).closest('[data-layout=\"submenu_block\"]');\n\n            if( $parent.data('id') && ! $parent.is('.acf-clone') && add_new_block( $parent ) ) {\n\n                window.submenuBlocks.push(\n                    new SubmenuBlocks({\n                        parent: $parent\n                    })\n                )\n            }\n        })\n    }\n\n    if( typeof acf !== 'undefined' ) {\n\n        acf.add_action('append', function( $el ){\n\n            let $submenuBlocks = jQuery( selectors.join(', ') );\n\n            if( $submenuBlocks.length ) {\n\n                $submenuBlocks.each(function() {\n\n                    let $parent = jQuery( this ).closest('[data-layout=\"submenu_block\"]');\n\n                    if( $parent.data('id') && ! $parent.is('.acf-clone') && add_new_block( $parent ) ) {\n\n                        window.submenuBlocks.push(\n                            new SubmenuBlocks({\n                                parent: $parent\n                            })\n                        )\n                    }\n                });\n            }\n        });\n    }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/Modules/ACF/assets/scripts/index.js","/*global jQuery*/\n\nexport default class SubmenuBlock\n{\n    options = {\n        parent: null\n    }\n\n    constructor(options)\n    {\n        this.options = Object.assign({}, this.options, options);\n        this.events();\n    }\n\n    events()\n    {\n        jQuery('select:eq(0)', this.options.parent).on('change', ev => {\n\n            let menu_id = jQuery( ev.currentTarget ).val();\n\n            if( menu_id ) {\n\n                SubmenuBlock.get_item_list( menu_id ).then((data) => {\n                    let json = JSON.parse( data );\n\n                    if( json.success ) {\n\n                        this.build_list_options( json.result );\n\n                    }else\n                        console.error(json);\n                })\n            }\n\n        });\n    }\n\n    build_list_options(menu_items)\n    {\n\n        if( Object.keys( menu_items ).length ) {\n\n            let $menu_item_select = jQuery('select:eq(1)', this.options.parent);\n\n            $menu_item_select\n                .find('option')\n                .remove()\n                .end()\n                .append('<option value=\"\">Select Menu Item</option>');\n\n            Object.keys( menu_items ).forEach((key) => {\n\n                $menu_item_select\n                    .append(`<option value=\"${key}\">${menu_items[ key ]}</option>`)\n            })\n        }\n\n    }\n\n    static get_item_list(menu_id)\n    {\n        return jQuery.get( ajaxurl, {\n            action: 'acf_submenu_item_list',\n            menu_id: menu_id\n        } )\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Modules/ACF/assets/scripts/components/SubmenuBlock.js","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 47\n// module chunks = 0","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 48\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 49\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 50\n// module chunks = 0"],"sourceRoot":""}